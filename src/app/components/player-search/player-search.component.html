<!-- <div *ngIf="isLoaded"> -->
<app-menu></app-menu>
<div style="padding-top: 10px" align=center>
  <a (click)="refresh()"> click here to refresh </a>
  <div>
    <mat-card width=100%>
      <mat-card-title>
        Available Players
      </mat-card-title>
      <mat-card-content>

        <div align=center width=30%>
          <form (ngSubmit)="submit()" #setupForm="ngForm" class="example-form">
            <label for="position">Select Position</label>
            <select width=30% (change)="selectPlayers()" type="string" class="form-control position-width" id="position"
                    [(ngModel)]="positionSelection" name="position" #position="ngModel">
              <option value="all">all</option>
              <option value="QB">QB</option>
              <option value="RB">RB</option>
              <option value="WR">WR</option>
              <option value="TE">TE</option>
              <option value="K">K</option>
              <option value="DST">DST</option>
            </select>
          </form>
          <!-- <table class="table table-stripped table-hover"> -->
          <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
          </mat-form-field>

          <div class="table-container mat-elevation-z8">
            <table mat-table [dataSource]="dataSource" matSort matSortActive="fantasyPoints" matSortDirection="desc"
                   class="mat-elevation-z8 table-overrides">

              <!-- Position Column -->
              <ng-container class="position-column" matColumnDef="position" sticky>
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Pos</th>
                <td mat-cell *matCellDef="let element"> {{element.position}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="playerName" sticky>
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Player</th>
                <td mat-cell *matCellDef="let element"> {{element.playerName}} </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="NFLTeam">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> NFLTeam</th>
                <td mat-cell *matCellDef="let element"> {{element.NFLTeam}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="percentStart">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> % Start</th>
                <td mat-cell *matCellDef="let element"> {{element.percentStart}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="percentOwn">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> % Own</th>
                <td mat-cell *matCellDef="let element"> {{element.percentOwn}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="byeWeek">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Bye Week</th>
                <td mat-cell *matCellDef="let element"> {{element.byeWeek}} </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="fantasyPoints">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Points</th>
                <td mat-cell *matCellDef="let element"> {{element.fantasyPoints}} </td>
              </ng-container>

              <!-- Assessment Column -->
              <ng-container matColumnDef="assessment">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Assessment</th>
                <td mat-cell *matCellDef="let element"> {{element.assessment}} </td>
              </ng-container>

              <!-- Cost Column -->
              <ng-container matColumnDef="cost">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Cost</th>
                <td mat-cell *matCellDef="let element"> {{element.costEstimate}} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns sticky: true" class="tst"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                  [ngClass]="{'highlight': row.playerName === selectedPlayer}" (click)="selectRow(row)"></tr>
            </table>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

  </div>
</div>
